var target_json = [{"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Purple", "shape_conf": 1, "char": "", "shape": "Trapezoid", "long": -76.4232655900569, "lat": 38.14598885206684}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Purple", "shape_conf": 1, "char": "", "shape": "Star", "long": -76.43048740968503, "lat": 38.14440442828941}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "Yellow", "shape_conf": 1, "char": "N", "shape": "Rectangle", "long": -76.42678485593758, "lat": 38.14382733903287}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "", "shape": "", "long": -76.42819928753522, "lat": 38.143997579679464}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "Yellow", "shape_conf": 1, "char": "N", "shape": "Rectangle", "long": -76.42669009682493, "lat": 38.144349432106075}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "Olive", "shape_conf": 1, "char": "N", "shape": "Rectangle", "long": -76.4267059721489, "lat": 38.14384926137578}, {"ccolor": "Yellow", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "", "shape": "Plus", "long": -76.43015850131141, "lat": 38.14602098912824}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Purple", "shape_conf": 1, "char": "", "shape": "Trapezoid", "long": -76.4236269294135, "lat": 38.14604315137159}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "", "shape": "", "long": -76.42731335165138, "lat": 38.14311256283035}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "White", "shape_conf": 1, "char": "", "shape": "Rectangle", "long": -76.42717913744825, "lat": 38.142937472919726}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "White", "shape_conf": 1, "char": "", "shape": "QuarterCircle", "long": -76.42719669445515, "lat": 38.14292987877817}, {"ccolor": "Teal", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "", "shape": "Triangle", "long": -76.42822442962509, "lat": 38.14389060693975}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Black", "shape_conf": 1, "char": "", "shape": "", "long": -76.42742998750143, "lat": 38.143545178249575}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "Yellow", "shape_conf": 1, "char": "N", "shape": "Rectangle", "long": -76.42764519457192, "lat": 38.144701453397076}, {"ccolor": "Purple", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "", "shape": "Semicircle", "long": -76.42910929049151, "lat": 38.144755232349056}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Purple", "shape_conf": 1, "char": "", "shape": "Trapezoid", "long": -76.42350874835189, "lat": 38.14601532227486}, {"ccolor": "Dark Red", "char_confs": [1], "overall_conf": 0, "scolor": "Dark Red", "shape_conf": 1, "char": "", "shape": "Semicircle", "long": -76.43193666339909, "lat": 38.149038710186844}, {"ccolor": "Teal", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "I", "shape": "Triangle", "long": -76.42837319712815, "lat": 38.14455542443058}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Black", "shape_conf": 1, "char": "", "shape": "", "long": -76.43134676525217, "lat": 38.143177940489885}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Black", "shape_conf": 1, "char": "", "shape": "", "long": -76.43131305734967, "lat": 38.14301313458734}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "White", "shape_conf": 1, "char": "N", "shape": "Circle", "long": -76.42585648686816, "lat": 38.14512369263473}, {"ccolor": "Purple", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "I", "shape": "Star", "long": -76.43042487502817, "lat": 38.1443673915066}, {"ccolor": "Purple", "char_confs": [1], "overall_conf": 0, "scolor": "Dark Red", "shape_conf": 1, "char": "", "shape": "Diamond", "long": -76.43238477085389, "lat": 38.15050135773265}, {"ccolor": "Black", "char_confs": [1], "overall_conf": 0, "scolor": "Black", "shape_conf": 1, "char": "", "shape": "", "long": -76.42613862614711, "lat": 38.144463732258735}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "White", "shape_conf": 1, "char": "", "shape": "Square", "long": -76.42807396309395, "lat": 38.142529116181315}, {"ccolor": "Teal", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "I", "shape": "Triangle", "long": -76.42854381574206, "lat": 38.1437151232545}, {"ccolor": "Orange", "char_confs": [1], "overall_conf": 0, "scolor": "Orange", "shape_conf": 1, "char": "B", "shape": "QuarterCircle", "long": -76.42653993014069, "lat": 38.14328783991107}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "White", "shape_conf": 1, "char": "", "shape": "Square", "long": -76.42793500357861, "lat": 38.142222544302214}, {"ccolor": "Teal", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "R", "shape": "Triangle", "long": -76.42814890883454, "lat": 38.143797806853904}, {"ccolor": "Dark Red", "char_confs": [1], "overall_conf": 0, "scolor": "Dark Red", "shape_conf": 1, "char": "", "shape": "Semicircle", "long": -76.43182140957796, "lat": 38.14931318040438}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "Yellow", "shape_conf": 1, "char": "Z", "shape": "Rectangle", "long": -76.42671536413361, "lat": 38.14402621712431}, {"ccolor": "White", "char_confs": [1], "overall_conf": 0, "scolor": "Teal", "shape_conf": 1, "char": "N", "shape": "Circle", "long": -76.42575001373183, "lat": 38.14454836953236}]
console.log(target_json)
function initialize() {
  var mapOptions = {
    center: { lat: 38.14598885206684, lng: -76.4232655900569},
    zoom: 16,
    mapTypeId: google.maps.MapTypeId.SATELLITE

  };
  var map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);

  var image = 'images/IMG_0605.JPG_crop_0.jpg';
  var icon = {
    url: 'images/IMG_0605.JPG_crop_0.jpg', // url
    scaledSize: new google.maps.Size(20, 20), // scaled size
    origin: new google.maps.Point(0,0), // origin
    anchor: new google.maps.Point(0, 0) // anchor
};
  var marker;
  var infoWindow = new google.maps.InfoWindow();
  var contentString;
  var target;
  for(var x =0; x<target_json.length;x++)
  {
    target = target_json[x]
    var myLatlng = new google.maps.LatLng(target.lat,target.long);
    marker = new google.maps.Marker({
      position: myLatlng,
      map: map,
      icon: icon,
    });
    contentString = target.shape;
    console.log(target.shape)

   google.maps.event.addListener(marker, 'click', (function(marker, i) {
            return function() {
                infoWindow.setContent(target_json[x].shape);
                infoWindow.open(map, marker);
            }
  })(marker, x));
  }
  var cluster;

  // Define the LatLng coordinates for the polygon's path. Note that there's
  // no need to specify the final coordinates to complete the polygon, because
  // The Google Maps JavaScript API will automatically draw the closing side.
  var triangleCoords = [
    new google.maps.LatLng(target_json[0].lat, target_json[0].long),
    new google.maps.LatLng(target_json[1].lat, target_json[1].long),
    new google.maps.LatLng(target_json[2].lat, target_json[2].long),
  ];

  cluster = new google.maps.Polygon({
    paths: triangleCoords,
    strokeColor: '#FF0000',
    strokeOpacity: 0.8,
    strokeWeight: 3,
    fillColor: '#FF0000',
    fillOpacity: 0.35
  });

  cluster.setMap(map);

}
google.maps.event.addDomListener(window, 'load', initialize);
